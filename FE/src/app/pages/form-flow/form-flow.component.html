<section id="home" class="min-h-screen py-6 dark:bg-gray-900">
  <h1 class="text-5xl font-bold mt-6 mb-2 dark:text-white">Inserisci nuovo flusso</h1>
  <h2 class="text-3xl font-semibold mb-6 dark:text-white">Da questa schermata puoi inserire sia uscite che entrate</h2>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 py-8 mb-4">
    <!-- FORM -->
    <form
      class="bg-white rounded shadow-md dark:bg-gray-800 p-6"
      [formGroup]="bioSection"
      (ngSubmit)="ngSubmit()"
      aria-label="Form inserimento nuovo flusso"
    >
      <!-- DATA -->
      <div class="mb-4">
        <label for="date" class="block text-xl font-bold mb-2 dark:text-white">
          Data movimento
        </label>
        <input
          id="date"
          type="date"
          formControlName="date"
          class="shadow border rounded w-full py-2 px-3 leading-tight text-gray-700 focus:outline-none focus:shadow-outline"
        />
      </div>

      <!-- CATEGORIA -->
      <div class="mb-4">
        <label for="category" class="block text-xl font-bold mb-2 dark:text-white">
          Categoria
        </label>
        <select
          id="category"
          formControlName="category"
          class="shadow border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline"
        >
          <option value="" disabled selected>Seleziona la categoria del flusso</option>
          <option>Entrata</option>
          <option>Uscita</option>
        </select>
      </div>

      <!-- NATURA -->
      <div class="mb-4">
        <label for="nature" class="block text-xl font-bold mb-2 dark:text-white">
          Natura
        </label>
        <select
          id="nature"
          formControlName="nature"
          class="shadow border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline"
        >
          <option value="" disabled selected>Seleziona la natura del flusso</option>
          <ng-container *ngIf="bioSection.value.category === 'Entrata'">
            <option *ngFor="let label of labelIn">{{ label }}</option>
          </ng-container>
          <ng-container *ngIf="bioSection.value.category === 'Uscita'">
            <option *ngFor="let label of labelOut">{{ label }}</option>
          </ng-container>
        </select>
      </div>

      <!-- IMPORTO -->
      <div class="mb-4">
        <label for="import" class="block text-xl font-bold mb-2 dark:text-white">
          Importo
        </label>
        <input
          id="import"
          type="number"
          formControlName="import"
          placeholder="0"
          step="100"
          min="0"
          class="shadow border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline"
        />
      </div>

      <!-- SUBMIT -->
      <div>
        <button
          type="submit"
          [disabled]="load"
          [ngClass]="{ 'opacity-50 cursor-not-allowed': load }"
          class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full mt-2 focus:outline-none focus:shadow-outline"
        >
          Inserisci flusso
        </button>
      </div>
    </form>

    <!-- INFO -->
    <div class="lg:col-span-2 p-4">
      <h3 class="text-2xl font-semibold dark:text-white mb-2">A cosa serve questa schermata?</h3>
      <p class="text-lg dark:text-gray-300 mb-4">
        Questa sezione consente di inserire un nuovo flusso economico, facilitando la gestione e il monitoraggio delle
        entrate e delle uscite finanziarie. Compila correttamente tutti i campi richiesti per garantire un'accurata registrazione dei dati.
      </p>
      <div class="text-lg dark:text-gray-300 mb-4">
        <p class="mb-2">Istruzioni per compilare correttamente il form:</p>
        <ol class="list-decimal ml-5 space-y-1">
          <li>Data movimento - Quando è avvenuto il movimento</li>
          <li>Categoria di Flusso - Entrata/Uscita</li>
          <li>Natura del Flusso - Categoria di spesa/ingresso</li>
          <li>Importo del Flusso - Di quanto consiste il flusso</li>
        </ol>
      </div>
      <p class="text-lg dark:text-gray-300">
        <b>Attenzione:</b> tutti i dati sono obbligatori!
      </p>
    </div>
  </div>

  <!-- MODALS -->
  <app-modal
    *ngIf="insert === 'succed'"
    title="Flusso aggiunto"
    text="Il flusso è stato inserito correttamente"
    redirect="/dashboard"
  ></app-modal>
  <app-modal
    *ngIf="insert === 'fail'"
    title="Flusso non aggiunto"
    text="Si è verificato un errore"
    redirect="/dashboard"
  ></app-modal>
</section>
